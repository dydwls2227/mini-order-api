
# 미니 주문 시스템 API 서버

## 프로젝트 목적

이번 미션에서는 **Spring Boot**를 사용하여 간단한 **주문 시스템 API 서버**를 구현합니다. 주문 데이터의 CRUD(생성, 조회, 수정, 삭제) 기능을 직접 구현하는 것이 목표입니다.

---

## 사용 기술 스택

- **JDK**: 17
- **Spring Boot**: 3.2.9
- **Dependencies**:
    - `spring-boot-starter-web`: 웹 애플리케이션 개발을 위한 모듈
    - `spring-boot-starter-data-jpa`: JPA와 데이터베이스 통신을 위한 모듈
    - `lombok`: 코드 간소화를 위한 도구
    - `h2database`: 개발과 테스트용으로 사용되는 경량형 데이터베이스

---

## DB 설정

- **H2 데이터베이스**는 **서버 모드**로 작동해야 하며, 홈 디렉토리에 `order.mv.db` 파일이 있어야 합니다. 이 파일이 없으면 H2가 자동으로 생성합니다.
- **H2 데이터베이스 설정**:
    - **Database**: H2 (서버 모드로 사용)
    - **JDBC URL 설정**:
        ```properties
        spring.datasource.url=jdbc:h2:tcp://localhost/~/order
        ```
    - **JDBC URL 설명**:
        - `tcp://localhost`: H2 서버가 로컬에서 실행되고 있음을 나타냅니다.
        - `~/order`: 홈 디렉토리에 `order.mv.db` 파일을 생성하여 데이터베이스로 사용합니다.
            - **Windows**: `C:/Users/사용자명/order.mv.db`
            - **Mac/Linux**: `/Users/사용자명/order.mv.db`
- **H2 서버 실행 방법**:
    - 아래 명령어를 사용해 H2 서버를 실행합니다:
        ```bash
        java -jar [H2 설치 경로]/h2/bin/h2-2.3.230.jar
        ```
    - `[H2 설치 경로]` 부분은 각자의 설치 경로에 맞게 수정해야 합니다.
        - Windows: `C:/Users/사용자명/h2/bin/h2-2.3.230.jar`
        - Mac/Linux: `/Users/사용자명/h2/bin/h2-2.3.230.jar`
    - H2 서버 실행 후, 브라우저에서 `http://localhost:8082`로 접속하여 H2 콘솔에 접근할 수 있습니다.
- **H2 콘솔 사용 방법**:
    - 브라우저에서 `http://localhost:8082`로 접속한 후, 다음 정보를 입력하여 데이터베이스에 연결합니다:
        - **JDBC URL**: `jdbc:h2:tcp://localhost/~/order`
        - **사용자명**: `sa`
        - **비밀번호**: 빈 칸

---

## 환경 설정

- **JDK 17** 및 **Spring Boot 3.2.9** 버전이 설치된 환경에서 개발을 진행해야 합니다.
- 프로젝트를 실행하기 전에, H2 서버가 정상적으로 작동 중인지 확인하고 홈 디렉토리에 `order.mv.db` 파일이 있는지 반드시 체크해야 합니다.

---

## 미션: 주문 시스템 API 서버 구현

### 요구 사항

1. **엔티티 구성**
    - **Order 엔티티**:
        - 주문 시스템에서 사용될 주문 정보를 저장하는 엔티티입니다.
        - 주문 정보는 다음 사항을 포함해야 합니다:
            - **누가** 주문했는지 (구매자의 정보)
            - **무엇을** 주문했는지 (상품 대신 **카테고리**로 표현. **Enum** 타입 사용)
            - **언제** 주문했는지 (주문 날짜)
            - **얼마를** 주고 구매했는지 (구매 금액)
        - 주문에 대한 추가적인 필드가 필요하면 자유롭게 설계할 수 있습니다.
2. **API 기능 요구 사항**
    - **GET 요청 (`/order`)**:
        - 데이터베이스에 저장된 모든 주문 정보를 조회할 수 있는 API입니다.
        - 반환된 주문 정보는 필요한 정보만 포함할 수 있도록 설계합니다.
        - **응답 예시**: 각 주문 정보의 ID, 주문자, 카테고리, 금액, 주문 날짜 등이 포함됩니다.
    - **POST 요청 (`/order`)**:
        - 새로운 주문을 생성하는 API입니다.
        - 주문을 생성할 때, 주문자와 주문 항목에 대한 정보가 필요합니다.
        - 성공적으로 주문이 생성되면, 생성된 주문 정보를 다시 반환합니다.
    - **PUT 요청 (`/order/{orderId}`)**:
        - 기존 주문을 수정하는 API입니다.
        - 수정할 수 있는 필드는 주문 항목(카테고리)과 주문 금액으로 제한됩니다.
        - **힌트**: `orderId`는 경로에서 받아와야 하며, 이를 위해 **@PathVariable**을 사용해야 합니다.
        - 주문자 정보나 주문 날짜 등은 수정할 수 없으며, 수정 후 수정된 주문 정보를 반환합니다.
    - **DELETE 요청 (`/order/{orderId}`)**:
        - 특정 주문을 삭제하는 API입니다.
        - **힌트**: `orderId`를 경로에서 받아오기 위해 **@PathVariable**을 사용해야 합니다.
        - 주문 삭제 후에는 응답으로 상태 코드만 반환합니다.
3. **추가 요구 사항**
    - 주문을 생성하거나 수정할 때, 주문 항목은 **Enum**을 사용하여 카테고리별로 관리합니다. 구체적인 항목 대신 범주(예: FOOD, ELECTRONICS, CLOTHING)만을 지정합니다.
    - 삭제된 주문은 더 이상 조회할 수 없어야 합니다.

---

### API 명세 (요약)

1. **GET `/order`**: 모든 주문 정보 조회.
2. **POST `/order`**: 새로운 주문 생성.
3. **PUT `/order/{orderId}`**: 주문 수정 (수정 가능한 필드: 카테고리, 금액). `@PathVariable` 사용 힌트 제공.
4. **DELETE `/order/{orderId}`**: 주문 삭제. `@PathVariable` 사용 힌트 제공.

---

### 설명 요약

- **Order 엔티티**는 주문자, 주문 항목, 주문 날짜, 주문 금액 등의 정보를 저장합니다.
- API는 주문의 생성, 조회, 수정, 삭제 기능을 제공하며, 카테고리와 금액 필드만 수정이 가능합니다.
- 주문 항목은 **Enum**을 통해 카테고리로만 관리하며, 주문 ID는 경로 변수로 받습니다(`@PathVariable` 사용).

---
